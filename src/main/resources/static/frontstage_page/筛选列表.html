<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/reset.css">
    <!-- <link rel="stylesheet" href="css/font_byta7fgc0u4/iconfont.css"> -->
    <link rel="stylesheet" href="../css/list1.css">
    <script src="/js/vue.min.js"></script>
    <script src="/js/axios.min.js"></script>
    <title>主持人_-_筛选列表</title>
</head>

<body>
<div id="app">
    <!-- 顶部导航布局开始 -->
    <div>
        <div class="nav_login">
            <div class="juzhong">
                <p>趣学旅程主持人欢迎您！ 客服：13212344321</p>
                <p class="p_login"><a href="#"> 登录 | 注册</a></p>
            </div>
        </div>
        <div class="nav_logo">
            <div class="juzhong">
                <img src="../img/logo.png" alt="">
            </div>
        </div>
        <div class="nav_img">
            <img src="../img/主持人_-_筛选列表_02.jpg" alt="">
        </div>
        <div class="nav_label">
            <div class="juzhong">
                <ui>
                    <li><a href="#">首页</a></li>
                    <li><a href="#">主持人</a></li>
                    <li><a href="#">加入我们</a></li>
                    <li><a href="#">关于我们</a></li>
                </ui>
            </div>
        </div>
    </div>
    <!-- 顶部导航布局结束 -->
    <!-- 中间内容开始 -->
    <div class='content'>
        <div class="warp">
            <!-- 主持人表单开始    -->
            <div class="anchor_from">
                <div class="anchor_top">
                    <span>日期时间：</span>
                    <select name="date" id="" class='select_date'>
                        <option value="">2023年10月1日</option>
                    </select>
                    <select name="date" id="" class='select_date'></select>
                </div>
                <div class="anchor_cont">
                    <div class='cont_top'>
                        <span class='dianli'>典礼类型：</span>
                        <span><a href="javascript:void(0)" v-on:click="handleWeddingTypeChange('不限')">不限</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleWeddingTypeChange('西式婚礼')">西式婚礼</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleWeddingTypeChange('中式婚礼')">中式婚礼</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleWeddingTypeChange('汉唐婚礼')">汉唐婚礼</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleWeddingTypeChange('商务主持')">商务主持</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleWeddingTypeChange('宴会主持')">宴会主持</a></span>
                    </div>
                    <div class='cont_top'>
                        <span class='dianli jibie'>主持人级别：</span>
                        <span><a href="javascript:void(0)" v-on:click="handleClassChange(0,0,'不限')">不限</a></span>
                        <span ref="top"><a href="javascript:void(0)"
                                           v-on:click="handleClassChange(10000,10000000,'首席')">首席10000-10000000</a></span>
                        <span ref="gold"><a href="javascript:void(0)"
                                            v-on:click="handleClassChange(1000,10000,'金牌')">金牌1000-10000</a></span>
                        <span ref="senior"><a href="javascript:void(0)"
                                              v-on:click="handleClassChange(100,1000,'资深')">资深100-1000</a></span>
                    </div>
                    <div class='cont_top'>
                        <span class='dianli'>排序方式：</span>
                        <span><a href="javascript:void(0)" v-on:click="handleOrderChange(1)">不限</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleOrderChange(2)">好评序列</a></span>
                        <!-- <span><a href="#">价格高 <i class='iconfont icon-jiantou-you'></i>低</a></span>
                        <span><a href="#">价格低 <i class='iconfont icon-jiantou-you'></i>高</a></span> -->
                        <span><a href="javascript:void(0)" v-on:click="handleOrderChange(3)">价格高 → 低</a></span>
                        <span><a href="javascript:void(0)" v-on:click="handleOrderChange(4)">价格低 → 高</a></span>
                    </div>
                </div>
                <div class="anchor_bottom">
                    <span>精准搜索：</span>
                    <input ref="input" type="text" placeholder="支持人名字（可不填）" class='sousuo'>
                    <button class='btn_left'><a href="javascript:void(0)" v-on:click="onSearch">搜索主持人</a>
                    </button>
                    <button class='btn_right'><a href="javascript:void(0)" v-on:click="handleClear()">清空筛选条件</a>
                    </button>
                </div>
            </div>
            <!-- 主持人表单结束 -->
            <!-- 筛选条件开始 -->
            <div class='screen'>
                <div class="kunag"></div>
                <div class='screen_info'>
                    <span>当前筛选条件：</span>
                    <span>2023年10月1日 上午  {{weddingType}}  {{level}}{{low}}-{{high}} ，</span>
                    <span>共有</span>
                    <span>{{totalCount}}</span>
                    <span>位主持人可以为您服务！</span>
                </div>
            </div>
            <!-- 筛选条件结束 -->

            <!-- 主持人列表开始 -->
            <div class='anchor_list'>
                <ul class='anchor_info'>
                    <li v-for="(item ,index) in hosts"><a :href="'主持人详情.html?hid='+item.hid">
                        <img v-bind:src='item.image' alt="图片加载失败">
                        <p class='anchor_price'>
                            <span class='anchor_price_left'>{{item.hname}}</span>
                            <span class='anchor_price_right'>主持人价格：{{item.hprice}}元</span>
                        </p></a>
                    <li>
                </ul>
            </div>
            <!-- 主持人列表结束 -->
        </div>
    </div>
    <!-- 中间内容结束 -->
    <!-- 底部开始 -->
    <div class='footer'>
        <div class='footer_warp'>
            <div class='footer_left'>
                <p class='footer_left_top'>联系我们</p>
                <p class='footer_left_content'>公司地址：广州市天河区迎龙路X区999号码</p>
                <p class='footer_left_bottom'>copyright©2016-2019 版权归趣学旅程主持人所有 </p>
            </div>
            <div class='footer_right'>
                <div class='QR_left'>
                    <img src="../img/QR_04.png" alt="">
                    <div class='QR_left_img'>
                        <img src="../img/QR_03.png" alt="">
                    </div>
                    <p>官方服务号</p>
                </div>
                <div class='QR_left'>
                    <img src="../img/QR_02.png" alt="">
                    <div class='QR_left_img'>
                        <img src="../img/QR_01.png" alt="">
                    </div>
                    <p>官方服务号</p>
                </div>
            </div>
        </div>
    </div>
    <!-- 底部结束 -->
    <!-- 固定定位导航布局开始 -->
    <div class="QR_right">
        <div class='QR_right_top'>
            <!-- <img src="img/QR_small.png" alt=""> -->
            <img src="../img/QR_small.png" alt="">
            <div class='QR_box'>
                <div class='QR_box_content'>
                    <img src="../img/QR_right.png" alt="">
                    <p class='QR_box_content_font'>关注官方二维码接受订单通知</p>
                </div>
                <div class='QR_box_triangle'>
                    <img src="../img/sanjiao.png" alt="">
                </div>
            </div>
        </div>
        <a href="#">
            <div class='QR_right_bottom'>
                <img src="../img/jiantou.png" alt="">
            </div>
        </a>
    </div>
    <!-- 固定定位导航布局结束 -->

    <!-- 右边二维码开始 -->
    <!--     <div class="QR_right">
        <div class='QR_right_top'>
            <img src="img/QR_small.png" alt="">
            <div class='QR_box'>
                <div class='QR_box_content'>
                    <img src="img/QR_right.png" alt="">
                    <p class='QR_box_content_font'>关注官方二维码接受订单通知</p>
                </div>
                <div class='QR_box_triangle'>
                    <img src="img/sanjiao.png" alt="">
                </div>
            </div>
        </div>
        <div class='QR_right_bottom'>
            <img src="img/jiantou.png" alt="">
        </div>

    </div> -->
    <!-- 右边二维码结束 -->

</div>
</body>
<script src="../js/jquery-1.12.3.min.js"></script>
<script>
    let vue = new Vue({
        el: '#app',
        data: {
            hosts: {},
            low: 0,
            high: 0,
            sort: 1,
            level: '不限',
            totalCount: 0,
            weddingType: '不限',
        },
        mounted() {
            this.displayData()
            console.log(this.$refs.top.outerText)
            console.log(this.$refs.gold.outerText)
            console.log(this.$refs.senior.outerText)
        },
        methods: {
            displayData() {
                axios.get("/front/host/viewHosts.do?low=" + this.low + "&high=" + this.high + "&sort=" + this.sort).then(function (response) {
                    console.log(response)
                    vue.hosts = response.data.data
                    console.log("hosts=", vue.hosts)
                    vue.calTotalHost(vue.hosts)
                })

            },
            handleWeddingTypeChange(str) {
                this.weddingType = str
                this.displayData()
            },
            handleClassChange(low, high, level) {
                console.log("low=" + low + " high =" + high)
                this.low = low;
                this.high = high;
                this.level = level;
                this.displayData()
            },
            handleOrderChange(num) {
                console.log(num)
                this.sort = num
                this.displayData()
            },
            handleClear() {
                this.low = 0
                this.high = 0
                this.sort = 1
                this.level = '不限'
                this.totalCount = 0
                this.weddingType = '不限'
                this.displayData()
            },
            calTotalHost(arr) {
                this.totalCount = arr.length
            },
            onSearch() {
                let input = this.$refs.input.value

                axios.post("/front/host/viewHostByConditionForFront.do?hname=" + input).then(function (response) {
                    if (response.data.code == 200) {
                        vue.hosts = response.data.data;
                        console.log("hosts=", vue.hosts)
                        vue.calTotalHost(vue.hosts)
                    } else {
                        console.log(response.data.msg)
                    }
                })
            }
        }

    });

    // 导航的点击事件
    $(".nav_label li").click(function () {
        $(this).siblings('li').removeClass('active');
        $(this).addClass('active');
    })

</script>
</html>
